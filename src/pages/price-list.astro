---
import PageLayout from '../layouts/page-layout.astro';
import serviceGroups from '../data/services';
import PriceListTile from '../components/price-list-tile.astro';
import CollapsibleHeader from '../components/collapsible-header.astro';
---

<PageLayout title="Price List" subtitle="Transparent Pricing for All Our Services">
    <section class="price-list-section py-4">
        {serviceGroups.map((group) => {
            const collapseId = `price-${group.name.toLowerCase().replace(/\s+/g, '-')}`;
            return (
                <div class="price-group mb-4">
                    <CollapsibleHeader 
                        title={group.name}
                        shortDescription={group.shortDescription}
                        collapseId={collapseId}
                        showLink={true}
                        linkHref={`/services/${collapseId.replace('price-', '')}`}
                    />
                    
                    <div class="collapse show" id={collapseId}>
                        <PriceListTile serviceGroup={group} showHeader={false} highlightPrices={true} />
                    </div>
                </div>
            );
        })}
    </section>

    <section class="price-note bg-light py-5 mt-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h3 class="mb-3">Important Information</h3>
                    <p class="description-muted">All prices include a complimentary consultation and touch-up session within 6-8 weeks. Individual results and longevity may vary based on skin type, lifestyle, and aftercare.</p>
                    <p class="description-muted mb-0">Have questions about our pricing? <a href="/contact" class="text-decoration-none fw-semibold" style="color: var(--color-primary);">Contact us</a> for more information.</p>
                </div>
            </div>
        </div>
    </section>
</PageLayout>

<style>
    .price-group {
        padding: 2rem 0;
    }

    .price-note {
        background-color: var(--color-bg-light) !important;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .table tbody td {
            padding: 0.75rem 1rem;
        }

        .service-name {
            font-size: 0.95rem;
        }

        .service-price {
            font-size: 1.1rem;
        }

        .minimal-service-row .service-name {
            font-size: 0.85rem;
        }

        .minimal-service-row .service-price {
            font-size: 1rem;
        }
    }
</style>


