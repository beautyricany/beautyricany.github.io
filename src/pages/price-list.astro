---
import PageLayout from '../layouts/page-layout.astro';
import serviceGroups from '../data/services';
import PriceListTile from '../components/price-list-tile.astro';
import CollapsibleHeader from '../components/collapsible-header.astro';
import CtaSection from '../components/cta-section.astro';
---

<PageLayout title="Ceník" subtitle="Transparentní ceny všech našich služeb">
    <section class="price-list-section py-4">
        {serviceGroups.map((group) => {
            const collapseId = `price-${group.name.toLowerCase().replace(/\s+/g, '-')}`;
            return (
                <div class="price-group mb-4">
                    <CollapsibleHeader 
                        title={group.name}
                        shortDescription={group.shortDescription}
                        collapseId={collapseId}
                        showLink={true}
                        linkHref={`/services/${collapseId.replace('price-', '')}`}
                    />
                    
                    <div class="collapse show" id={collapseId}>
                        <PriceListTile serviceGroup={group} showHeader={false} highlightPrices={true} />
                    </div>
                </div>
            );
        })}
    </section>

    <CtaSection 
        title="Potřebujete poradit s výběrem?"
        text="Rádi vám pomůžeme vybrat vhodné ošetření a zodpovíme všechny vaše otázky ohledně cen a procesu. Všechny naše služby zahrnují bezplatnou konzultaci."
    />
</PageLayout>

<style>
    .price-group {
        padding: 2rem 0;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .table tbody td {
            padding: 0.75rem 1rem;
        }

        .service-name {
            font-size: 0.95rem;
        }

        .service-price {
            font-size: 1.1rem;
        }

        .minimal-service-row .service-name {
            font-size: 0.85rem;
        }

        .minimal-service-row .service-price {
            font-size: 1rem;
        }
    }
</style>


